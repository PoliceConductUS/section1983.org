---
import Base from "./Base.astro";
import DisqusComments from "../components/DisqusComments.astro";
import ShareButtons from "../components/ShareButtons.astro";

interface Props {
  title: string;
  description: string;
  order: number;
  movant: string;
  respondent: string;
  slug: string;
}

const { title, description, order, movant, respondent, slug } = Astro.props;
---

<Base title={title} description={description}>
  <slot name="breadcrumbs" />

  <article>
    <header class="mb-10">
      <div class="flex items-center gap-3 mb-3">
        <span class="bg-navy text-white text-sm font-bold px-3 py-1 rounded"
          >Step {order}</span
        >
      </div>
      <h1 class="text-3xl md:text-4xl font-bold text-navy leading-tight mb-4">
        {title}
      </h1>
      <p class="text-lg text-slate mb-4">{description}</p>
      <div class="flex gap-6 text-sm">
        <div>
          <strong class="text-navy">Who moves:</strong>
          <span class="text-slate">{movant}</span>
        </div>
        <div>
          <strong class="text-navy">Who responds:</strong>
          <span class="text-slate">{respondent}</span>
        </div>
      </div>
    </header>

    <div class="prose">
      <slot />
    </div>

    <ShareButtons
      title={title}
      description={description}
      url={`https://www.section1983.org/process/${slug}/`}
    />

    <slot name="pagination" />
  </article>

  <DisqusComments
    pageUrl={`https://www.section1983.org/process/${slug}/`}
    disqusIdentifier={`process-${slug}`}
  />
</Base>
